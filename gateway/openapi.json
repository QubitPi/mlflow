{"openapi": "3.0.2", "info": {"title": "MLflow Gateway API", "description": "The core gateway API for reverse proxy interface using remote inference endpoints within MLflow", "version": "2.6.0"}, "paths": {"/gateway/chat/invocations": {"post": {"summary": " Chat", "operationId": "_chat_gateway_chat_invocations_post", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/mlflow__gateway__schemas__chat__RequestPayload"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/mlflow__gateway__schemas__chat__ResponsePayload"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/gateway/completions/invocations": {"post": {"summary": " Completions", "operationId": "_completions_gateway_completions_invocations_post", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/mlflow__gateway__schemas__completions__RequestPayload"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/mlflow__gateway__schemas__completions__ResponsePayload"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/gateway/embeddings/invocations": {"post": {"summary": " Embeddings", "operationId": "_embeddings_gateway_embeddings_invocations_post", "requestBody": {"content": {"application/json": {"schema": {"$ref": "#/components/schemas/mlflow__gateway__schemas__embeddings__RequestPayload"}}}, "required": true}, "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/mlflow__gateway__schemas__embeddings__ResponsePayload"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/health": {"get": {"summary": "Health", "operationId": "health_health_get", "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HealthResponse"}}}}}}}, "/api/2.0/gateway/routes/{route_name}": {"get": {"summary": "Get Route", "operationId": "get_route_api_2_0_gateway_routes__route_name__get", "parameters": [{"required": true, "schema": {"title": "Route Name", "type": "string"}, "name": "route_name", "in": "path"}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/Route"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}, "/api/2.0/gateway/routes/": {"get": {"summary": "Search Routes", "operationId": "search_routes_api_2_0_gateway_routes__get", "parameters": [{"required": false, "schema": {"title": "Page Token", "type": "string"}, "name": "page_token", "in": "query"}], "responses": {"200": {"description": "Successful Response", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/SearchRoutesResponse"}}}}, "422": {"description": "Validation Error", "content": {"application/json": {"schema": {"$ref": "#/components/schemas/HTTPValidationError"}}}}}}}}, "components": {"schemas": {"CandidateMetadata": {"title": "CandidateMetadata", "type": "object", "properties": {"finish_reason": {"$ref": "#/components/schemas/FinishReason"}}, "description": "A pydantic model representing Gateway response data, such as information about a Gateway\nRoute returned in response to a GetRoute request"}, "FinishReason": {"title": "FinishReason", "enum": ["stop", "length"], "type": "string", "description": "An enumeration."}, "HTTPValidationError": {"title": "HTTPValidationError", "type": "object", "properties": {"detail": {"title": "Detail", "type": "array", "items": {"$ref": "#/components/schemas/ValidationError"}}}}, "HealthResponse": {"title": "HealthResponse", "required": ["status"], "type": "object", "properties": {"status": {"title": "Status", "type": "string"}}}, "ModelInfo": {"title": "ModelInfo", "required": ["provider"], "type": "object", "properties": {"name": {"title": "Name", "type": "string"}, "provider": {"$ref": "#/components/schemas/Provider"}}, "description": "A pydantic model representing Gateway response data, such as information about a Gateway\nRoute returned in response to a GetRoute request"}, "Provider": {"title": "Provider", "enum": ["openai", "anthropic", "cohere", "mlflow-model-serving", "databricks-model-serving", "mosaicml"], "type": "string", "description": "An enumeration."}, "RequestMessage": {"title": "RequestMessage", "required": ["role", "content"], "type": "object", "properties": {"role": {"title": "Role", "type": "string"}, "content": {"title": "Content", "type": "string"}}, "description": "A pydantic model representing Gateway request data, such as a chat or completions request"}, "ResponseMessage": {"title": "ResponseMessage", "required": ["role", "content"], "type": "object", "properties": {"role": {"title": "Role", "type": "string"}, "content": {"title": "Content", "type": "string"}}, "description": "A pydantic model representing Gateway response data, such as information about a Gateway\nRoute returned in response to a GetRoute request"}, "Route": {"title": "Route", "required": ["name", "route_type", "model", "route_url"], "type": "object", "properties": {"name": {"title": "Name", "type": "string"}, "route_type": {"$ref": "#/components/schemas/RouteType"}, "model": {"$ref": "#/components/schemas/ModelInfo"}, "route_url": {"title": "Route Url", "type": "string"}}, "description": "A pydantic model representing Gateway response data, such as information about a Gateway\nRoute returned in response to a GetRoute request", "example": {"name": "openai-completions", "route_type": "llm/v1/completions", "model": {"name": "gpt-3.5-turbo", "provider": "openai"}, "route_url": "/gateway/routes/completions/invocations"}}, "RouteType": {"title": "RouteType", "enum": ["llm/v1/completions", "llm/v1/chat", "llm/v1/embeddings"], "type": "string", "description": "An enumeration."}, "SearchRoutesResponse": {"title": "SearchRoutesResponse", "required": ["routes"], "type": "object", "properties": {"routes": {"title": "Routes", "type": "array", "items": {"$ref": "#/components/schemas/Route"}}, "next_page_token": {"title": "Next Page Token", "type": "string"}}, "example": {"routes": [{"name": "openai-chat", "route_type": "llm/v1/chat", "model": {"name": "gpt-3.5-turbo", "provider": "openai"}}, {"name": "anthropic-completions", "route_type": "llm/v1/completions", "model": {"name": "claude-instant-100k", "provider": "anthropic"}}, {"name": "cohere-embeddings", "route_type": "llm/v1/embeddings", "model": {"name": "embed-english-v2.0", "provider": "cohere"}}], "next_page_token": "eyJpbmRleCI6IDExfQ=="}}, "ValidationError": {"title": "ValidationError", "required": ["loc", "msg", "type"], "type": "object", "properties": {"loc": {"title": "Location", "type": "array", "items": {"anyOf": [{"type": "string"}, {"type": "integer"}]}}, "msg": {"title": "Message", "type": "string"}, "type": {"title": "Error Type", "type": "string"}}}, "mlflow__gateway__schemas__chat__Candidate": {"title": "Candidate", "required": ["message", "metadata"], "type": "object", "properties": {"message": {"$ref": "#/components/schemas/ResponseMessage"}, "metadata": {"$ref": "#/components/schemas/CandidateMetadata"}}, "description": "A pydantic model representing Gateway response data, such as information about a Gateway\nRoute returned in response to a GetRoute request"}, "mlflow__gateway__schemas__chat__Metadata": {"title": "Metadata", "required": ["model", "route_type"], "type": "object", "properties": {"input_tokens": {"title": "Input Tokens", "type": "integer"}, "output_tokens": {"title": "Output Tokens", "type": "integer"}, "total_tokens": {"title": "Total Tokens", "type": "integer"}, "model": {"title": "Model", "type": "string"}, "route_type": {"$ref": "#/components/schemas/RouteType"}}, "description": "A pydantic model representing Gateway response data, such as information about a Gateway\nRoute returned in response to a GetRoute request"}, "mlflow__gateway__schemas__chat__RequestPayload": {"title": "RequestPayload", "required": ["messages"], "type": "object", "properties": {"temperature": {"title": "Temperature", "maximum": 1.0, "minimum": 0.0, "type": "number", "default": 0.0}, "candidate_count": {"title": "Candidate Count", "maximum": 5.0, "minimum": 1.0, "type": "integer", "default": 1}, "stop": {"title": "Stop", "minItems": 1, "type": "array", "items": {"type": "string"}}, "max_tokens": {"title": "Max Tokens", "minimum": 1.0, "type": "integer"}, "messages": {"title": "Messages", "minItems": 1, "type": "array", "items": {"$ref": "#/components/schemas/RequestMessage"}}}, "description": "A pydantic model representing Gateway request data, such as a chat or completions request", "example": {"messages": [{"role": "user", "content": "hello world"}], "temperature": 0.0, "max_tokens": 64, "stop": ["END"], "candidate_count": 1}}, "mlflow__gateway__schemas__chat__ResponsePayload": {"title": "ResponsePayload", "required": ["candidates", "metadata"], "type": "object", "properties": {"candidates": {"title": "Candidates", "type": "array", "items": {"$ref": "#/components/schemas/mlflow__gateway__schemas__chat__Candidate"}}, "metadata": {"$ref": "#/components/schemas/mlflow__gateway__schemas__chat__Metadata"}}, "description": "A pydantic model representing Gateway response data, such as information about a Gateway\nRoute returned in response to a GetRoute request", "example": {"candidates": [{"message": {"role": "user", "content": "hello world"}, "metadata": {"finish_reason": "stop"}}], "metadata": {"input_tokens": 1, "output_tokens": 2, "total_tokens": 3, "model": "gpt-3.5-turbo", "route_type": "llm/v1/completions"}}}, "mlflow__gateway__schemas__completions__Candidate": {"title": "Candidate", "required": ["text"], "type": "object", "properties": {"text": {"title": "Text", "type": "string"}, "metadata": {"title": "Metadata", "type": "object", "additionalProperties": {"type": "string"}}}, "description": "A pydantic model representing Gateway response data, such as information about a Gateway\nRoute returned in response to a GetRoute request"}, "mlflow__gateway__schemas__completions__Metadata": {"title": "Metadata", "required": ["model", "route_type"], "type": "object", "properties": {"input_tokens": {"title": "Input Tokens", "type": "integer"}, "output_tokens": {"title": "Output Tokens", "type": "integer"}, "total_tokens": {"title": "Total Tokens", "type": "integer"}, "model": {"title": "Model", "type": "string"}, "route_type": {"$ref": "#/components/schemas/RouteType"}}, "description": "A pydantic model representing Gateway response data, such as information about a Gateway\nRoute returned in response to a GetRoute request"}, "mlflow__gateway__schemas__completions__RequestPayload": {"title": "RequestPayload", "required": ["prompt"], "type": "object", "properties": {"temperature": {"title": "Temperature", "maximum": 1.0, "minimum": 0.0, "type": "number", "default": 0.0}, "candidate_count": {"title": "Candidate Count", "maximum": 5.0, "minimum": 1.0, "type": "integer", "default": 1}, "stop": {"title": "Stop", "minItems": 1, "type": "array", "items": {"type": "string"}}, "max_tokens": {"title": "Max Tokens", "minimum": 1.0, "type": "integer"}, "prompt": {"title": "Prompt", "type": "string"}}, "description": "A pydantic model representing Gateway request data, such as a chat or completions request", "example": {"prompt": "hello", "temperature": 0.0, "max_tokens": 64, "stop": ["END"], "candidate_count": 1}}, "mlflow__gateway__schemas__completions__ResponsePayload": {"title": "ResponsePayload", "required": ["candidates", "metadata"], "type": "object", "properties": {"candidates": {"title": "Candidates", "type": "array", "items": {"$ref": "#/components/schemas/mlflow__gateway__schemas__completions__Candidate"}}, "metadata": {"$ref": "#/components/schemas/mlflow__gateway__schemas__completions__Metadata"}}, "description": "A pydantic model representing Gateway response data, such as information about a Gateway\nRoute returned in response to a GetRoute request", "example": {"candidates": [{"text": "hello world", "metadata": {"finish_reason": "stop"}}], "metadata": {"input_tokens": 1, "output_tokens": 2, "total_tokens": 3, "model": "gpt-3.5-turbo", "route_type": "llm/v1/completions"}}}, "mlflow__gateway__schemas__embeddings__Metadata": {"title": "Metadata", "required": ["model", "route_type"], "type": "object", "properties": {"input_tokens": {"title": "Input Tokens", "type": "integer"}, "output_tokens": {"title": "Output Tokens", "type": "integer"}, "total_tokens": {"title": "Total Tokens", "type": "integer"}, "model": {"title": "Model", "type": "string"}, "route_type": {"$ref": "#/components/schemas/RouteType"}}, "description": "A pydantic model representing Gateway response data, such as information about a Gateway\nRoute returned in response to a GetRoute request"}, "mlflow__gateway__schemas__embeddings__RequestPayload": {"title": "RequestPayload", "required": ["text"], "type": "object", "properties": {"text": {"title": "Text", "anyOf": [{"type": "string"}, {"type": "array", "items": {"type": "string"}}]}}, "description": "A pydantic model representing Gateway request data, such as a chat or completions request", "example": {"text": ["hello", "world"]}}, "mlflow__gateway__schemas__embeddings__ResponsePayload": {"title": "ResponsePayload", "required": ["embeddings", "metadata"], "type": "object", "properties": {"embeddings": {"title": "Embeddings", "type": "array", "items": {"type": "array", "items": {"type": "number"}}}, "metadata": {"$ref": "#/components/schemas/mlflow__gateway__schemas__embeddings__Metadata"}}, "description": "A pydantic model representing Gateway response data, such as information about a Gateway\nRoute returned in response to a GetRoute request", "example": {"embeddings": [[0.1, 0.2, 0.3], [0.4, 0.5, 0.6]], "metadata": {"input_tokens": 1, "output_tokens": 0, "total_tokens": 1, "model": "gpt-3.5-turbo", "route_type": "llm/v1/embeddings"}}}}}}